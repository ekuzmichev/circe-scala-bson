language: scala
scala:
  - 2.12.8
  - 2.13.1
script:
  - sbt clean coverage test coverageReport
after_success:
  - bash <(curl -s https://codecov.io/bash)
  - gpg2 --keyring=$TRAVIS_BUILD_DIR/pubring.gpg --no-default-keyring --import deployment/signingkey.asc
  - gpg2 --allow-secret-key-import --keyring=$TRAVIS_BUILD_DIR/secring.gpg --no-default-keyring
    --import deployment/signingkey.asc
  - mvn clean deploy --settings deployment/settings.xml -Dgpg.executable=gpg2 -Dgpg.keyname=5F84CD1775351968CABF0B0D779D2423E1D24D89
    -Dgpg.passphrase=$PASSPHRASE -Dgpg.publicKeyring=$TRAVIS_BUILD_DIR/pubring.gpg -Dgpg.secretKeyring=$TRAVIS_BUILD_DIR/secring.gpg
env:
  global:
    - secure: H8MxgF0BwpgVb6NgagkjcbUEZucNQSdpVE8tsApCQPK1ro2LF0pWmS/nDhmR8ijDdclZlVn5z7ATky4Jzn7h2JIfo3VPinf2X1t5NYEIbcaAmr7btRFzCrSTbStIWqAwaRBX19yBQgUBs3AGJxL6coK+EMPnBJq6WgVpNJ/z4DQMN8AhA/FHTaoESZ+8NEA8WEZApRwKASprakB7BVrO2ie7isU1cni6KxXcYQNr1hzTE+DzM+PzXQcFORyVqObpYWutKXw6YzH5yIXis1F8qurTdk12WKO/15uiBCo3W2z36zSzMb6yN6cFTsW7Qkndche7MPIgD4naDOonIM/N0G3R/+sAkWu/tLoL09oGSWO+7kFRLIBy4jzYEVKQ+uGWwl4XItj0A8W1cRdz+mw1T2Y9Rv1Pa2bvjFoV7+uGWuCfUd1LttuQiK2XHqanHDcgdZiHbOQL64XhYrYjLpGqDvAf5gR4r/0Y+JEVAitIHLAwkA2cglK1V04p4A/KFXakIncaE1G6C+YZ3zcGaYNfdZ+16I1gf9EpGD+IiNi79eq4674Mszp/zARL+DWCOKce+GXHYmTjiXEjmlXGlet15mroZKXndM1kPrNZwshYO0hpDqsW7ACEBFsXP4PT7Z1wwJh4ibYpyJ4i66xSxcYoELufrFjQKK2MG37ALv5wCRc=
    - secure: sWogP/oekr24s3cOm9HQweBI0hzzR0jnX/ZK3NqEDKCoCtyEPW1efR7xwbGIRVSkCwYch61QUKJmcPKWYMqaNq55Y5GYKH9b4ztI0EIs+mN92yAPUhqj0DTc8EK9Syjdmh/urE/j0LgbxwKNiJB+VkgwTaQZPrtAHeBxiqOE1228HQGbgXlMjfjsuNcmz4EDfjoV67lvkfhVuaKgVs5zbXb5XgiaXYsyXxo/bjjdTiP6vXsmdKWY+cbMffHkZ8JTesesDcMLtDc4Jf8DVBwmoLhiQBiQchBzDX65+PBoWwKnlpslnIZgSvfRvDHH7CVwWCuYVYwtHCWBmWw0LpUhbOJoCJISJBV269M7L8m/mV5m/T+YOXZ1n1J9cLLOPAT2sf0dvOE5Ca8+kQnN9KLE6F5baKj5TXWOZ9uRQdYaU9BlJ37G4z91nw8IzF0CtBYT82KM9ios0k4LU89c5H6hnnXczRAZ1lhLvLTKfEcNIUEBLwtp3DFff4gzNbQ3UCXkVSWzK4vd4WdG8cnhUWDX6R5LqTFwZyevbzBpRgocDfeHtB7ug8dRuBsHe149dDCQccU28sa2Qz1muc0wkCMG8AnYuflHfhPjZ7VUiE5Z20bScixiJEM5Dy1FCfrpqFk8ExbrogdOK86IWwKJ682f18i5EMa2/5cB3pgfWRyp0wU=
    - secure: k5+qyP5ehQMFEfnGmeLfrSG4+3jn/CfmC3HnIw6hcWOxH12eNajQGVbzpziqy5EoXXb2Nl428KmCiy6/2e6O21XGvLWk4YXTtUXLVcHcn3dNT1Q+dU6NAlajNvoPaPbJn2i+a0DkmebjVetytncjpPz3YCaP13L8/ezN5p7bWXUy/sVyHuvpK6/qFCUsCruzQa82UMqYKzFqIQBgFpWDKF+qb1283E870BlqSF8jVHwbyBUhX+BMq8LTDL1vjcZdBrqTR4rDnjboVND+HzCZ5dsZ0rm+lh/7DWbRPLoXTxSlVv5gc28OvFVinfEVbf2jiPZCX92gaQwU07QYHLsxQVuKw3ylcfoRHaixktuAiOlvF/aj4C7SCKfZJadw7xBTIW+2pVeBt7XNuW6PLXAlljxfAfh8aFZcRHAEKMD17F402LVcFiCp/0evbmKvwJjA6mxVmcnSRG0J18QgC21x4byunSnmTO2qG4o3rEmBIPpRnWsSjARYGx0PxbA9Inducd1HK10gTtpgmU9MRG/mFiPkKMhEtdriKjwZNJtemnfQ4J/0tp67WYN1wBT5JXRVdaMbgLewpoJiA9mHEphQVbUzZr8xkvE6jQpdBwgN1YBxjuMbkha4B3wvtDU+q38rymN6ToP4C/yCJl/CVoGbqWMlps8U1bZeSPT499iM4iQ=
before_install:
  - openssl aes-256-cbc -K $encrypted_25a884814f46_key -iv $encrypted_25a884814f46_iv
    -in deployment/signingkey.asc.enc -out deployment/signingkey.asc -d
